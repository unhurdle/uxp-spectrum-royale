/**
 * Generated by Apache Royale Compiler from com/unhurdle/spectrum/renderers/DataItemRenderer.as
 * com.unhurdle.spectrum.renderers.DataItemRenderer
 *
 * @fileoverview
 *
 * @suppress {missingRequire|checkTypes|accessControls}
 */

goog.provide('com.unhurdle.spectrum.renderers.DataItemRenderer');
/* Royale Dependency List: com.unhurdle.spectrum.beads.KeyboardFocusHandler,com.unhurdle.spectrum.data.IDataItem,org.apache.royale.core.CSSClassList,org.apache.royale.core.ISelectableItemRenderer,org.apache.royale.core.WrappedHTMLElement,org.apache.royale.html.util.addElementToWrapper,org.apache.royale.utils.getSelectionRenderBead,org.apache.royale.utils.sendStrandEvent,org.apache.royale.utils.Language*/

goog.require('org.apache.royale.html.supportClasses.DataItemRenderer');
goog.require('com.unhurdle.spectrum.ISpectrumElement');
goog.require('com.unhurdle.spectrum.interfaces.IKeyboardFocusable');



/**
 * @constructor
 * @extends {org.apache.royale.html.supportClasses.DataItemRenderer}
 * @implements {com.unhurdle.spectrum.interfaces.IKeyboardFocusable}
 * @implements {com.unhurdle.spectrum.ISpectrumElement}
 */
com.unhurdle.spectrum.renderers.DataItemRenderer = function() {
  com.unhurdle.spectrum.renderers.DataItemRenderer.base(this, 'constructor');
  this.classList = new org.apache.royale.core.CSSClassList();
  this.typeNames = this.getSelector();
  this.addBead(new com.unhurdle.spectrum.beads.KeyboardFocusHandler());
  this.focusElement.addEventListener("focus", org.apache.royale.utils.Language.closure(this.com_unhurdle_spectrum_renderers_DataItemRenderer_handleFocus, this, 'com_unhurdle_spectrum_renderers_DataItemRenderer_handleFocus'));
  this.focusElement.addEventListener("blur", org.apache.royale.utils.Language.closure(this.com_unhurdle_spectrum_renderers_DataItemRenderer_handleBlur, this, 'com_unhurdle_spectrum_renderers_DataItemRenderer_handleBlur'));
};
goog.inherits(com.unhurdle.spectrum.renderers.DataItemRenderer, org.apache.royale.html.supportClasses.DataItemRenderer);


/**
 * @protected
 * @return {string}
 */
com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.getSelector = function() {
  return "";
};


/**
 * @protected
 * @param {string} value
 * @return {string}
 */
com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.appendSelector = function(value) {
  return this.getSelector() + value;
};


/**
 * @protected
 * @param {string} value
 * @return {string}
 */
com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.valueToSelector = function(value) {
  return this.getSelector() + "--" + value;
};


/**
 * @protected
 * @type {org.apache.royale.core.CSSClassList}
 */
com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.classList = null;


/**
 * @param {string} classNameVal
 * @param {boolean} add
 */
com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.toggle = function(classNameVal, add) {
  add ? this.classList.add(classNameVal) : this.classList.remove(classNameVal);
  this.setClassName(this.computeFinalClassNames());
};


/**
 * @protected
 * @override
 */
com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.computeFinalClassNames = function() {
  return this.classList.compute() + com.unhurdle.spectrum.renderers.DataItemRenderer.superClass_.computeFinalClassNames.apply(this);
};


/**
 * @protected
 * @return {string}
 */
com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.getTag = function() {
  return "div";
};


/**
 * @protected
 * @override
 */
com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.createElement = function() {
  return org.apache.royale.html.util.addElementToWrapper(this, this.getTag());
};


/**
 * @param {string} property
 * @param {Object} value
 */
com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.setStyle = function(property, value) {
  this.element.style[property] = value;
};


/**
 * @private
 * @return {boolean}
 */
com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.com_unhurdle_spectrum_renderers_DataItemRenderer_getItemSelected = function() {
  if (org.apache.royale.utils.Language.is(this.data, com.unhurdle.spectrum.data.IDataItem)) {
    return this.data.selected;
  }
  return !!(this.data["selected"]);
};


/**
 * @private
 * @return {boolean}
 */
com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.com_unhurdle_spectrum_renderers_DataItemRenderer_getItemDisabled = function() {
  if (org.apache.royale.utils.Language.is(this.data, com.unhurdle.spectrum.data.IDataItem)) {
    return this.data.disabled;
  }
  return !!(this.data["disabled"]);
};


/**
 * @private
 * @type {boolean}
 */
com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.com_unhurdle_spectrum_renderers_DataItemRenderer__disabled = false;


/**
 * @type {boolean}
 */
com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.pauseFocusEvents = false;


/**
 * @private
 * @type {boolean}
 */
com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.com_unhurdle_spectrum_renderers_DataItemRenderer__keyboardFocused = false;


/**
 * @private
 * @type {boolean}
 */
com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.com_unhurdle_spectrum_renderers_DataItemRenderer__focused = false;


/**
 * @protected
 * @type {boolean}
 */
com.unhurdle.spectrum.renderers.DataItemRenderer.prototype._tabFocusable = false;


/**
 */
com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.focus = function() {
  this.element.focus();
};


/**
 * @param {string} name
 * @param {*} value
 */
com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.setAttribute = function(name, value) {
  this.element.setAttribute(name, value);
};


/**
 * @param {string} name
 * @return {*}
 */
com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.getAttribute = function(name) {
  return this.element.getAttribute(name);
  
};


/**
 * @param {string} name
 */
com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.removeAttribute = function(name) {
  this.element.removeAttribute(name);
};


/**
 * @private
 * @param {Event} event
 */
com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.com_unhurdle_spectrum_renderers_DataItemRenderer_handleFocus = function(event) {
  org.apache.royale.utils.sendStrandEvent(this, "focusIn");
};


/**
 * @private
 * @param {Event} event
 */
com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.com_unhurdle_spectrum_renderers_DataItemRenderer_handleBlur = function(event) {
  org.apache.royale.utils.sendStrandEvent(this, "focusOut");
};


com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.set__data = function(value) {
  var /** @type {boolean} */ hasData = this.data ? true : false;
  com.unhurdle.spectrum.renderers.DataItemRenderer.superClass_.set__data.apply(this, [ value] );
  if (!hasData || !org.apache.royale.utils.getSelectionRenderBead(this).selected) {
    this.selected = this.com_unhurdle_spectrum_renderers_DataItemRenderer_getItemSelected();
  }
  this.disabled = this.com_unhurdle_spectrum_renderers_DataItemRenderer_getItemDisabled();
};


/**
 * @nocollapse
 * @export
 * @type {boolean}
 */
com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.selected;


com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.get__selected = function() {
  var /** @type {org.apache.royale.core.ISelectableItemRenderer} */ selectionBead = org.apache.royale.utils.getSelectionRenderBead(this);
  if (selectionBead)
    return selectionBead.selected;
  return false;
};


com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.set__selected = function(value) {
  var /** @type {org.apache.royale.core.ISelectableItemRenderer} */ selectionBead = org.apache.royale.utils.getSelectionRenderBead(this);
  if (selectionBead)
    selectionBead.selected = value;
};


/**
 * @nocollapse
 * @export
 * @type {boolean}
 */
com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.disabled;


com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.get__disabled = function() {
  return this.com_unhurdle_spectrum_renderers_DataItemRenderer__disabled;
};


com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.set__disabled = function(value) {
  this.com_unhurdle_spectrum_renderers_DataItemRenderer__disabled = value;
  this.toggle("is-disabled", value);
  if (value) {
    this.setStyle("pointerEvents", "none");
  }
};


/**
 * @nocollapse
 * @export
 * @type {HTMLElement}
 */
com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.focusElement;


com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.get__focusElement = function() {
  return this.element;
  return null;
};


/**
 * @nocollapse
 * @export
 * @type {boolean}
 */
com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.keyboardFocused;


com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.get__keyboardFocused = function() {
  return this.com_unhurdle_spectrum_renderers_DataItemRenderer__keyboardFocused;
};


com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.set__keyboardFocused = function(value) {
  if (this.pauseFocusEvents) {
    return;
  }
  this.toggle("focus-ring", value);
  this.com_unhurdle_spectrum_renderers_DataItemRenderer__keyboardFocused = value;
  if (value) {
    this.focused = !value;
    this.tabFocusable = true;
    this.focus();
  }
};


/**
 * @nocollapse
 * @export
 * @type {boolean}
 */
com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.focused;


com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.get__focused = function() {
  return this.com_unhurdle_spectrum_renderers_DataItemRenderer__focused;
};


com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.set__focused = function(value) {
  if (this.pauseFocusEvents) {
    return;
  }
  this.com_unhurdle_spectrum_renderers_DataItemRenderer__focused = value;
  if (value) {
    this.keyboardFocused = !value;
    this.focus();
  }
};


/**
 * @nocollapse
 * @export
 * @type {boolean}
 */
com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.autofocus;


com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.get__autofocus = function() {
  
  return !!(this.element["autofocus"]);
};


com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.set__autofocus = function(value) {
  
  this.element["autofocus"] = value;
};


/**
 * @nocollapse
 * @export
 * @type {boolean}
 */
com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.tabFocusable;


com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.get__tabFocusable = function() {
  return this._tabFocusable;
};


com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.set__tabFocusable = function(value) {
  if (this._tabFocusable == value) {
    return;
  }
  this._tabFocusable = value;
  if (value) {
    this.setAttribute("tabindex", 0);
  } else {
    this.removeAttribute("tabindex");
  }
};


Object.defineProperties(com.unhurdle.spectrum.renderers.DataItemRenderer.prototype, /** @lends {com.unhurdle.spectrum.renderers.DataItemRenderer.prototype} */ {
/**
 * @type {Object}
 */
data: {
get: org.apache.royale.html.supportClasses.UIItemRendererBase.prototype.get__data,
set: com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.set__data},
/**
 * @type {boolean}
 */
selected: {
get: com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.get__selected,
set: com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.set__selected},
/**
 * @type {boolean}
 */
disabled: {
get: com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.get__disabled,
set: com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.set__disabled},
/**
 * @type {HTMLElement}
 */
focusElement: {
get: com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.get__focusElement},
/**
 * @type {boolean}
 */
keyboardFocused: {
get: com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.get__keyboardFocused,
set: com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.set__keyboardFocused},
/**
 * @type {boolean}
 */
focused: {
get: com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.get__focused,
set: com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.set__focused},
/**
 * @type {boolean}
 */
autofocus: {
get: com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.get__autofocus,
set: com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.set__autofocus},
/**
 * @type {boolean}
 */
tabFocusable: {
get: com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.get__tabFocusable,
set: com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.set__tabFocusable}}
);


/**
 * Metadata
 *
 * @type {Object.<string, Array.<Object>>}
 */
com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.ROYALE_CLASS_INFO = { names: [{ name: 'DataItemRenderer', qName: 'com.unhurdle.spectrum.renderers.DataItemRenderer', kind: 'class' }], interfaces: [com.unhurdle.spectrum.interfaces.IKeyboardFocusable, com.unhurdle.spectrum.ISpectrumElement] };



/**
 * Reflection
 *
 * @return {Object.<string, Function>}
 */
com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.ROYALE_REFLECTION_INFO = function () {
  return {
    variables: function () {
      return {
        'pauseFocusEvents': { type: 'Boolean', get_set: function (/** com.unhurdle.spectrum.renderers.DataItemRenderer */ inst, /** * */ v) {return v !== undefined ? inst.pauseFocusEvents = v : inst.pauseFocusEvents;}}
      };
    },
    accessors: function () {
      return {
        'data': { type: 'Object', access: 'writeonly', declaredBy: 'com.unhurdle.spectrum.renderers.DataItemRenderer'},
        'selected': { type: 'Boolean', access: 'readwrite', declaredBy: 'com.unhurdle.spectrum.renderers.DataItemRenderer'},
        'disabled': { type: 'Boolean', access: 'readwrite', declaredBy: 'com.unhurdle.spectrum.renderers.DataItemRenderer'},
        'focusElement': { type: 'HTMLElement', access: 'readonly', declaredBy: 'com.unhurdle.spectrum.renderers.DataItemRenderer'},
        'keyboardFocused': { type: 'Boolean', access: 'readwrite', declaredBy: 'com.unhurdle.spectrum.renderers.DataItemRenderer'},
        'focused': { type: 'Boolean', access: 'readwrite', declaredBy: 'com.unhurdle.spectrum.renderers.DataItemRenderer'},
        'autofocus': { type: 'Boolean', access: 'readwrite', declaredBy: 'com.unhurdle.spectrum.renderers.DataItemRenderer'},
        'tabFocusable': { type: 'Boolean', access: 'readwrite', declaredBy: 'com.unhurdle.spectrum.renderers.DataItemRenderer'}
      };
    },
    methods: function () {
      return {
        'DataItemRenderer': { type: '', declaredBy: 'com.unhurdle.spectrum.renderers.DataItemRenderer'},
        'toggle': { type: 'void', declaredBy: 'com.unhurdle.spectrum.renderers.DataItemRenderer', parameters: function () { return [ 'String', false ,'Boolean', false ]; }},
        'setStyle': { type: 'void', declaredBy: 'com.unhurdle.spectrum.renderers.DataItemRenderer', parameters: function () { return [ 'String', false ,'Object', false ]; }},
        'focus': { type: 'void', declaredBy: 'com.unhurdle.spectrum.renderers.DataItemRenderer'},
        'setAttribute': { type: 'void', declaredBy: 'com.unhurdle.spectrum.renderers.DataItemRenderer', parameters: function () { return [ 'String', false ,'*', false ]; }},
        'getAttribute': { type: '*', declaredBy: 'com.unhurdle.spectrum.renderers.DataItemRenderer', parameters: function () { return [ 'String', false ]; }},
        'removeAttribute': { type: 'void', declaredBy: 'com.unhurdle.spectrum.renderers.DataItemRenderer', parameters: function () { return [ 'String', false ]; }}
      };
    }
  };
};
/**
 * @const
 * @type {number}
 */
com.unhurdle.spectrum.renderers.DataItemRenderer.prototype.ROYALE_COMPILE_FLAGS = 11;
